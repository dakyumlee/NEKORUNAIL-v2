<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>설정 - NEKORU Admin</title>
    <link rel="icon" type="image/png" th:href="@{/images/favicon.png}">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
    <button class="mobile-menu-toggle" id="menuToggle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <div class="admin-layout">
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="admin-logo">
                <a th:href="@{/}">
                    <img th:src="@{/images/favicon.png}" alt="Nekoru">
                    <span>NEKORUNAIL</span>
                </a>
            </div>
            <nav class="admin-nav">
                <a th:href="@{/admin/dashboard}">대시보드</a>
                <a th:href="@{/admin/gallery}">갤러리 관리</a>
                <a th:href="@{/admin/categories}">카테고리</a>
                <a th:href="@{/admin/reviews}">리뷰 관리</a>
                <a th:href="@{/admin/settings}" class="active">설정</a>
                <form th:action="@{/admin/logout}" method="post" style="margin:0;">
                    <button type="submit" class="logout-btn">로그아웃</button>
                </form>
            </nav>
        </aside>
        
        <main class="admin-content">
            <div class="admin-header">
                <h1 class="admin-title">설정</h1>
            </div>
            
            <div class="admin-card">
                <h2 class="admin-card-title">AI 챗봇 말투 설정</h2>
                <form th:action="@{/admin/settings/ai-prompt}" method="post">
                    <div class="form-group">
                        <label class="form-label">시스템 프롬프트</label>
                        <textarea name="aiPrompt" id="aiPrompt" class="form-textarea" rows="10" placeholder="AI 챗봇의 성격과 말투를 설정하세요..." th:text="${aiPrompt}"></textarea>
                        <p style="font-size: 11px; color: rgba(26,26,26,0.5); margin-top: 8px;">비워두면 기본 갸루톤 프롬프트가 적용됩니다.</p>
                    </div>
                    <button type="submit" class="btn-admin btn-admin-primary">저장</button>
                </form>
            </div>
            
            <div class="admin-card">
                <h2 class="admin-card-title">빠른 프롬프트 템플릿</h2>
                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                    <button type="button" class="btn-admin btn-admin-secondary" onclick="setTemplate('gyaru')">갸루톤 💕</button>
                    <button type="button" class="btn-admin btn-admin-secondary" onclick="setTemplate('pro')">전문적 ✨</button>
                    <button type="button" class="btn-admin btn-admin-secondary" onclick="setTemplate('friendly')">친근한 🌸</button>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('adminSidebar');
        const overlay = document.getElementById('sidebarOverlay');
        menuToggle.addEventListener('click', () => { sidebar.classList.toggle('active'); overlay.classList.toggle('active'); });
        overlay.addEventListener('click', () => { sidebar.classList.remove('active'); overlay.classList.remove('active'); });
        
        const templates = {
            gyaru: `너는 부산 서면 네일샵 '네코루네일'의 AI 어시스턴트야! 💅✨\n귀엽고 텐션 높은 갸루 감성으로 대화해줘~!\n\n🏠 위치: 부산 부산진구 가야대로750번길 4 동서빌딩 3층\n🚇 교통: 서면역 도보 10분, 부전역 도보 5분\n\n💰 가격:\n- 젤 기본: 40,000원\n- 자석젤: 55,000원\n- 옴브레/프렌치: 60,000원\n- 손 케어: 15,000원\n- 발 케어: 20,000원\n\n말투: ~얌, ~당 같은 귀여운 말투 + 이모지 많이!`,
            pro: `당신은 부산 서면 네일샵 '네코루네일'의 전문 상담 AI입니다.\n\n■ 위치: 부산 부산진구 가야대로750번길 4 동서빌딩 3층\n■ 교통: 서면역 도보 10분, 부전역 도보 5분\n■ 예약: 네이버 예약\n\n■ 가격\n젤 기본 40,000원 | 자석젤 55,000원 | 옴브레/프렌치 60,000원\n\n정중하고 전문적인 어투로 응대하세요.`,
            friendly: `안녕하세요! 부산 서면 네코루네일의 AI 도우미예요~ 🌸\n\n📍 위치: 부산 부산진구 가야대로750번길 4 동서빌딩 3층\n🚇 서면역 도보 10분, 부전역 도보 5분\n\n💅 가격: 젤 기본 40,000원 / 자석젤 55,000원\n\n친근하고 따뜻하게 대화해요~`
        };
        function setTemplate(type) { document.getElementById('aiPrompt').value = templates[type]; }
    </script>
</body>
</html>
